<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ç°¡è½‰ç¹ WP ä¸»é¡Œè½‰æ›å™¨ - å°‡ç°¡é«”ä¸­æ–‡WordPressä¸»é¡Œè‡ªå‹•è½‰æ›ç‚ºå°ç£ç”¨èªçš„æ­£é«”ä¸­æ–‡">
    <meta name="keywords" content="WordPressä¸»é¡Œ,ç°¡é«”è½‰ç¹é«”,æ­£é«”ä¸­æ–‡,å°ç£ç”¨èª">
    <meta name="author" content="TWPT">
    <title>ç°¡è½‰ç¹ WP ä¸»é¡Œè½‰æ›å™¨</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ”„</text></svg>">
</head>
<body>
    <header>
        <h1>ç°¡è½‰ç¹ WP ä¸»é¡Œè½‰æ›å™¨</h1>
        <p>å°‡ç°¡é«”ä¸­æ–‡ WordPress ä¸»é¡Œè½‰æ›æˆå°ç£ç”¨èªçš„æ­£é«”ä¸­æ–‡</p>
    </header>
    
    <main>
        <section class="upload-container">
            <div class="drop-area" id="dropArea">
                <p>æ‹–æ”¾ WordPress ä¸»é¡Œå£“ç¸®æª”è‡³æ­¤è™•</p>
                <p>æˆ–</p>
                <label for="fileInput" class="upload-btn">é¸æ“‡æª”æ¡ˆ</label>
                <input type="file" id="fileInput" accept=".zip" hidden>
            </div>
            <p class="file-info" id="fileInfo">å°šæœªé¸æ“‡æª”æ¡ˆ</p>
        </section>
        
        <section class="dictionary-container">
            <h2>è‡ªè¨‚è½‰æ›å­—å…¸</h2>
            <p>è‡ªè¨‚å°ç£ç”¨èªè½‰æ›è¦å‰‡ï¼Œå°ˆæ³¨æ–¼æ­£é«”å­—è©çš„æ…£ç”¨èªå·®ç•°</p>
            
            <div class="dictionary-controls">
                <button id="showDictionaryBtn" class="secondary-btn">ç®¡ç†å­—å…¸</button>
                <button id="importDictionaryBtn" class="secondary-btn">åŒ¯å…¥å­—å…¸</button>
                <button id="exportDictionaryBtn" class="secondary-btn">åŒ¯å‡ºå­—å…¸</button>
                <button id="loadDefaultDictionaryBtn" class="secondary-btn">è¼‰å…¥é è¨­å­—å…¸</button>
                <input type="file" id="dictionaryFileInput" accept=".json" hidden>
            </div>
            
            <div id="dictionaryEditor" class="dictionary-editor" style="display: none;">
                <div class="dictionary-header">
                    <div class="dict-col">åŸå§‹è©å½™</div>
                    <div class="dict-col">å°ç£ç”¨èª</div>
                    <div class="dict-col">æ“ä½œ</div>
                </div>
                <div id="dictionaryEntries" class="dictionary-entries"></div>
                <div class="dictionary-add">
                    <input type="text" id="simplifiedInput" placeholder="è¼¸å…¥åŸå§‹è©å½™ï¼ˆå¦‚ï¼šè¨­ç½®ï¼‰">
                    <input type="text" id="traditionalInput" placeholder="è¼¸å…¥å°ç£ç”¨èªï¼ˆå¦‚ï¼šè¨­å®šï¼‰">
                    <button id="addDictionaryEntryBtn" class="add-btn">æ–°å¢</button>
                </div>
            </div>
        </section>
        
        <section class="progress-container" id="progressContainer" style="display: none;">
            <h2>æ­£åœ¨è½‰æ›ä¸­...</h2>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
            <p id="progressStatus">æº–å‚™ä¸­...</p>
        </section>
        
        <section class="result-container" id="resultContainer" style="display: none;">
            <h2>è½‰æ›å®Œæˆï¼</h2>
            <p>æ‚¨çš„ WordPress ä¸»é¡Œå·²æˆåŠŸè½‰æ›ç‚ºå°ç£ç”¨èªçš„æ­£é«”ä¸­æ–‡</p>
            <div class="result-info" id="resultInfo"></div>
            <a href="#" id="downloadBtn" class="download-btn">ä¸‹è¼‰è½‰æ›å¾Œçš„ä¸»é¡Œ</a>
        </section>
    </main>
    
    <footer>
        <p>æ­¤å·¥å…·ä½¿ç”¨ OpenCC é€²è¡Œç¹ç°¡è½‰æ› | <a href="https://github.com/BYVoid/OpenCC" target="_blank" rel="noopener">OpenCC å°ˆæ¡ˆ</a></p>
        <p><a href="https://github.com/AWTT/AWTT" target="_blank" rel="noopener">GitHub å°ˆæ¡ˆ</a></p>
        <p class="version">ç‰ˆæœ¬ 1.1.0</p>
    </footer>

    <!-- è¼‰å…¥å¿…è¦çš„è…³æœ¬ -->
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script>
        // è³‡æºè¼‰å…¥èˆ‡åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // å®šç¾©éœ€è¦è¼‰å…¥çš„è…³æœ¬
            const scripts = [
                { 
                    src: 'dictionary.js',
                    onload: () => {
                        console.log('å­—å…¸æ¨¡çµ„è¼‰å…¥æˆåŠŸ');
                        resourceStatus.dictionary = true;
                        checkAndInitApp();
                    }
                },
                { 
                    src: 'https://cdn.jsdelivr.net/npm/opencc-js@1.0.5/dist/umd/full.js',
                    fallback: 'lib/opencc-full.js',
                    onload: () => {
                        console.log('OpenCC æˆåŠŸè¼‰å…¥');
                        resourceStatus.opencc = true;
                        checkAndInitApp();
                    }
                }
            ];
            
            // è¿½è¹¤è³‡æºè¼‰å…¥ç‹€æ…‹
            const resourceStatus = {
                opencc: false,
                dictionary: false
            };
            
            // è¼‰å…¥è…³æœ¬çš„é€šç”¨å‡½æ•¸
            function loadScript(scriptObj) {
                const script = document.createElement('script');
                script.src = scriptObj.src;
                script.onload = scriptObj.onload;
                script.onerror = function() {
                    if (scriptObj.fallback) {
                        console.warn(`ç„¡æ³•å¾ ${scriptObj.src} è¼‰å…¥ï¼Œå˜—è©¦å‚™ç”¨ä¾†æº...`);
                        const fallbackScript = document.createElement('script');
                        fallbackScript.src = scriptObj.fallback;
                        fallbackScript.onload = scriptObj.onload;
                        fallbackScript.onerror = function() {
                            console.error('ç„¡æ³•è¼‰å…¥è³‡æºï¼ŒåŠŸèƒ½å°‡å—åˆ°é™åˆ¶');
                        };
                        document.body.appendChild(fallbackScript);
                    } else {
                        console.error(`è¼‰å…¥ ${scriptObj.src} æ™‚ç™¼ç”ŸéŒ¯èª¤`);
                    }
                };
                document.body.appendChild(script);
            }
            
            // åœ¨æ‰€æœ‰è³‡æºè¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–æ‡‰ç”¨
            function checkAndInitApp() {
                if (resourceStatus.opencc && resourceStatus.dictionary) {
                    console.log('æ‰€æœ‰è³‡æºå·²è¼‰å…¥ï¼Œåˆå§‹åŒ–æ‡‰ç”¨ç¨‹å¼');
                    // è¼‰å…¥ä¸»è…³æœ¬
                    const scriptTag = document.createElement('script');
                    scriptTag.src = "script.js";
                    document.body.appendChild(scriptTag);
                }
            }
            
            // è¼‰å…¥æ‰€æœ‰è…³æœ¬
            scripts.forEach(loadScript);
        });
    </script>
</body>
</html> 